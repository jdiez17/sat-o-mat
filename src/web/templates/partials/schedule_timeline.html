<!-- Time Range Timeline - rendered by JS -->
<div id="timeline-widget" class="relative">
    <!-- Controls bar -->
    <div class="flex items-center justify-between mb-3">
        <!-- Time range picker -->
        <div class="flex items-center gap-2">
            <input type="datetime-local"
                   id="timeline-start"
                   class="bg-zinc-800 border border-zinc-700 rounded px-2 py-1 text-sm text-zinc-300 focus:border-cyan-500 focus:outline-none">
            <span class="text-zinc-500">to</span>
            <input type="datetime-local"
                   id="timeline-end"
                   class="bg-zinc-800 border border-zinc-700 rounded px-2 py-1 text-sm text-zinc-300 focus:border-cyan-500 focus:outline-none">
            <button id="timeline-now-btn"
                    class="px-2 py-1 text-xs text-cyan-400 hover:text-cyan-300 hover:bg-zinc-800 rounded transition-colors">
                Now
            </button>
        </div>

        <!-- Zoom controls -->
        <div class="flex items-center gap-3">
            <button id="timeline-zoom-out"
                    class="w-7 h-7 flex items-center justify-center text-zinc-400 hover:text-zinc-200 hover:bg-zinc-700 rounded transition-colors"
                    title="Zoom out (show more time)">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"/>
                </svg>
            </button>
            <span id="timeline-zoom-level" class="text-xs text-zinc-400 w-12 text-center">24h</span>
            <button id="timeline-zoom-in"
                    class="w-7 h-7 flex items-center justify-center text-zinc-400 hover:text-zinc-200 hover:bg-zinc-700 rounded transition-colors"
                    title="Zoom in (show less time)">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                </svg>
            </button>
            <span id="timeline-hover-label" class="text-xs text-cyan-300 hidden whitespace-nowrap"></span>
        </div>
    </div>

    <!-- Scrollable Timeline Container -->
    <div id="timeline-scroll-container"
         class="overflow-x-auto scrollbar-thin scrollbar-thumb-zinc-700 scrollbar-track-zinc-900 border border-zinc-800 rounded-lg bg-zinc-900/50">
        <!-- Timeline canvas - JS renders here -->
        <div id="timeline-content" class="relative overflow-visible" style="height: 120px;">
            <!-- Time markers rendered by JS -->
            <div id="timeline-markers"></div>
            <!-- Schedule blocks rendered by JS -->
            <div id="timeline-schedules"></div>
            <!-- Time cursor -->
            <div id="timeline-cursor" class="absolute top-0 bottom-0 w-px bg-cyan-400/70 pointer-events-none hidden"></div>
            <!-- Current time indicator -->
            <div id="timeline-now-marker" class="absolute top-0 bottom-0 w-0.5 bg-red-500 z-30 pointer-events-none hidden">
                <div class="absolute -top-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-red-500 rounded-full"></div>
            </div>
        </div>
    </div>

    <!-- Legend -->
    <div class="flex items-center gap-4 mt-4 text-xs text-zinc-400">
        <div class="flex items-center gap-1.5">
            <span class="w-3 h-3 rounded bg-cyan-500"></span>
            <span>Active</span>
        </div>
        <div class="flex items-center gap-1.5">
            <span class="w-3 h-3 rounded bg-amber-500"></span>
            <span>Pending</span>
        </div>
        <div class="flex items-center gap-1.5">
            <span class="w-3 h-3 rounded bg-zinc-600"></span>
            <span>Completed</span>
        </div>
        <div class="flex items-center gap-1.5 ml-auto">
            <span class="w-3 h-0.5 bg-red-500"></span>
            <span>Now</span>
        </div>
    </div>
</div>
